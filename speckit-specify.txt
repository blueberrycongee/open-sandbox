/speckit.specify
请为 “open-sandbox” MVP 生成完整规格说明（需求与验收标准），要求：

项目定位：
- 构建一个一体化沙箱环境，为 AI/人类协作开发提供浏览器、终端、文件、IDE、Jupyter、代码执行等能力。
- MVP 强调可演示与可用性，部署简单（单机/单容器）。

核心功能（必须）：
1) 统一入口 API（HTTP）  
2) 有头浏览器：支持 CDP 获取地址、截图、动作接口  
3) VNC 可视化接管（浏览器桌面可见可操作）  
4) Shell API：执行命令（至少非交互）  
5) File API：读/写/列/搜索/替换  
6) Code 执行：Python/Node 最小可用  
7) Jupyter Lab & Code Server 可访问  

非功能要求：
- 运行在 Windows/本地 Docker 场景可行
- 文档必须说明：端口、环境变量、启动方式
- 安全：允许默认关闭鉴权，但需有 JWT 开关占位
- 性能不做硬指标，但避免明显阻塞
- 开发流程：原子化开发与原子化提交（小步提交、每次变更聚焦单一目标）
- 测试策略：严格 TDD，先写测试再实现，任何实现必须有对应测试

验收标准（必须满足）：
1) 启动成功后，以下地址均可访问并返回正常内容（本机 Windows）：
   - API 入口：`http://localhost:8080/v1/sandbox`
   - VNC 页面：`http://localhost:8080/vnc/index.html`
   - Jupyter Lab：`http://localhost:8080/jupyter` 或等效入口
   - Code Server：`http://localhost:8080/code-server/` 或等效入口
2) 通过 API 完成一条闭环流程（本机执行，输出可验证）：
   - 调用浏览器接口打开网页（如 `https://example.com`）
   - 调用截图接口保存截图到沙箱文件系统（例如 `/workspace/screenshots/example.png`）
   - 通过 File API 读取截图文件信息或读取某个页面文本保存到文件
   - 通过 Code 执行对文件做一次处理（例如计算文件大小并写回 `/workspace/output.txt`）
   - 通过 File API 读取 `/workspace/output.txt` 并验证内容
3) Shell API 能执行 `echo test` 并返回输出；执行 `ls`/`dir` 能列出 `/workspace` 内容。
4) File API 能完成：读、写、列目录、搜索、替换；每个操作都有明确的错误返回格式。
5) 浏览器信息接口能返回 CDP 地址，且可被外部工具连接（至少能完成一次 `newPage` 导航）。
6) 所有 API 返回结构保持一致（含 status、data、error 字段或等效结构），错误可定位。
7) 文档必须列明：端口、环境变量、启动方式、限制与已知问题。
8) 所有缓存、日志与构建产物必须落在 D 盘：
   - 工作区根目录为 `D:\Desktop\sandbox\open-sandbox`
   - 任何临时目录/缓存目录须显式指向 D 盘（例如 `D:\Desktop\sandbox\open-sandbox\.cache`）

明确列出所有不确定点，并标记 [NEEDS CLARIFICATION]：
- 代码执行隔离策略
- 代理/端口转发是否纳入 MVP
- 是否需要 MCP Hub
